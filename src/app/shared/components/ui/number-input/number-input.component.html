<div class="number-input">
  <label *ngIf="label" class="text-xs text-gray-600 mb-1 block">{{ label }}</label>

  <div class="flex items-center gap-2">
    <div
      class="w-full rounded border border-gray-300 bg-white flex items-stretch overflow-hidden"
      [class.border-red-500]="!!displayError"
    >
      <input
        type="text"
        class="flex-1 border-0 px-3 py-2 text-sm bg-transparent focus:outline-none focus:ring-1 focus:ring-indigo-200 focus:border-indigo-500"
        [placeholder]="placeholder"
        [value]="value"
        [disabled]="disabled"
        (input)="onInput($event)"
        (blur)="onTouched()"
        [attr.aria-invalid]="!!displayError"
      />

      <div
        *ngIf="formattedPreview !== null"
        class="bg-gray-100 border-l border-gray-200 px-3 py-2 text-sm font-semibold text-gray-700 flex items-center"
        aria-hidden="true"
      >
        <span class="text-gray-500 mr-1" *ngIf="previewPrefix">{{ previewPrefix }}</span>
        <span>{{ formattedPreview }}</span>
        <span class="text-gray-500 ml-1" *ngIf="previewSuffix">{{ previewSuffix }}</span>
      </div>
    </div>
  </div>

  <div *ngIf="displayError" class="error-message mt-1 text-xs text-red-600">{{ displayError }}</div>
</div>
