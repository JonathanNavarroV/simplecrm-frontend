<div class="number-input">
  <label *ngIf="label" class="text-xs text-gray-600 mb-1 block">{{ label }}</label>
  <div class="input-row">
    <div class="compound" [class.has-error]="!!displayError">
      <input
        type="text"
        class="compound-input"
        [placeholder]="placeholder"
        [value]="value"
        [disabled]="disabled"
        (input)="onInput($event)"
        (blur)="onTouched()"
        [attr.aria-invalid]="!!displayError"
      />

      <!-- Panel de previsualización a la derecha: sección gris dentro del mismo borde -->
      <div class="preview-panel" *ngIf="formattedPreview !== null" aria-hidden="true">
        <div class="preview-content">
          <span class="preview-prefix" *ngIf="previewPrefix">{{ previewPrefix }}</span>
          <span class="preview-value">{{ formattedPreview }}</span>
          <span class="preview-suffix" *ngIf="previewSuffix">{{ previewSuffix }}</span>
        </div>
      </div>
      <!-- (Control de maxLength eliminado: solo queda @Input maxLength) -->
    </div>
  </div>

  <div *ngIf="displayError" class="error-message mt-1 text-xs text-red-600">{{ displayError }}</div>
</div>
